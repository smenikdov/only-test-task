@use 'src/styles/variables' as v;
@use 'src/styles/mixins' as m;
@use 'src/styles/media-query' as media;

@mixin timelineArrow {
    position:  absolute;
    top:       50%;
    transform: translateY(-50%);
    path {
        stroke: v.$blue;
    }
}

.event {
    width: 200px;

    .eventYear {
        font-family:   "Bebas Neue", sans-serif;
        font-weight:   400;
        line-height:   1.2;
        color:         v.$blue;
        font-size:     25px;
        margin-bottom: 15px;
    }

    .eventName {
        font-size:          20px;
        line-height:        30px;
        overflow:           hidden;
        height:             90px;
        display:            -webkit-box;
        -webkit-line-clamp: 3;
        line-clamp:         3;
        -webkit-box-orient: vertical;
    }
}

.timeline {
    border-left:     1px solid v.$border-color;
    border-right:    1px solid v.$border-color;
    padding:         40px 0;
    min-height:      100vh;
    position:        relative;
    display:         flex;
    flex-direction:  column;
    justify-content: center;
    user-select:     none;

    &::after {
        @include          m.absolute(0, auto, auto, 50%);
        content:          '';
        width:            1px;
        height:           100%;
        background-color: v.$border-color;
        z-index:          -1;
    }

    .timelinePagination {
        @include         m.absolute(auto, 0, 48px, 0);
        display:         none;
        align-items:     center;
        justify-content: center;
        gap:             10px;

        .timelinePaginationItem {
            display:          block;
            border:           none;
            padding:          0;
            width:            6px;
            height:           6px;
            background-color: v.$dark;
            opacity:          0.5;
            border-radius:    50%;
            cursor:           pointer;
        }

        .timelinePaginationItemActive {
            opacity: 1;
        }
    }


    .timelineNavigation {
        display:       flex;
        align-items:   center;
        gap:           20px;
        margin-bottom: 56px;
    }

    .timelinePeriod {
        font-size:       200px;
        min-height:      400px;
        font-weight:     700;
        display:         flex;
        align-items:     center;
        justify-content: center;
        gap:             80px;
        position:        relative;

        .timelineStartYear {
            color: v.$iris;
        }

        .timelineEndYear {
            color: v.$pink;
        }
    }

    .timelineCounter {
        font-size:     14px;
        margin-bottom: 14px;
    }

    .timelineArrowPrev {
        @include timelineArrow;
        left: -60px;
    }

    .timelineArrowNext {
        @include timelineArrow;
        right: -60px;
    }

    .timelineContent {
        padding:    0 80px;
    }

    .timelineActiveTopic {
        @include     m.absolute();
        opacity:     1;
        font-weight: 700;
        font-size:   20px;
        width:       150px;
        height:      fit-content;
        margin:      auto;
        text-align:  left;
        line-height: 1.2;
    }

    .timelinePoint {
        @include         m.absolute();
        background:      none;
        border:          none;
        margin:          auto;
        cursor:          pointer;
        width:           80px;
        height:          80px;
        display:         flex;
        align-items:     center;
        justify-content: center;
        z-index:         10;
        transition:      500ms;
        will-change:     transform, rotate;

        .timelinePointIndex {
            width:            56px;
            height:           56px;
            transition:       500ms;
            will-change:      scale, background-color;
            background-color: v.$dark;
            border-radius:    50%;
            border:           1px solid v.$dark;
            display:          flex;
            align-items:      center;
            justify-content:  center;
            font-size:        20px;
            overflow:         hidden;
            z-index:          -1;
            scale:            0.13;
        }

        &.timelinePointActive, &:hover {
            .timelinePointIndex {
                background-color: v.$white-grey;
                scale:            1;
            }
        }
    }


    .timelineSwiper {
        position: relative;
        margin:   0 80px;
    }

    .timelineCircle {
        @include       m.absolute(50%, auto, auto, 50%);
        transform:     translate(-50%, -50%);
        border-radius: 50%;
        border:        1px solid v.$border-color;
        z-index:       -1;
    }

    .timelineVerticalLine {
        @include          m.absolute(50%, auto, auto, 0);
        width:            100%;
        height:           1px;
        background-color: v.$border-color;
        z-index:          -1;
    }
}

@include media.lg {
    .timeline {
        .timelinePeriod {
            min-height: 360px;
            font-size: 100px;
            gap:       40px;
        }
        .timelineContent {
            padding: 0 50px;
        }
        .timelineSwiper {
            margin: 0 50px;
        }
        .timelineArrowPrev {
            left: -38px;
        }
        .timelineArrowNext {
            right: -38px;
        }
    }

    .event {
        .eventName {
            height:      81px;
            font-size:   18px;
            line-height: 150%;
        }
    }
}

@include media.md {
    .timeline {
        .timelinePeriod {
            min-height: 260px;
            font-size:  56px;
            gap:        20px;
        }
    }

    .event {
        .eventYear {
            font-size: 20px;
            margin-bottom: 5px;
        }
        .eventName {
            font-size: 16px;
        }
    }
}

@include media.sm {
    .timelineCircle,
    .timelineActiveTopic,
    .timelinePoint,
    .timelineArrowNext,
    .timelineArrowPrev,
    .timeline::after {
        display: none !important;
    }

    .timeline {
        min-height: calc(100vh - 60px);
        height:     700px;
        border:     none;

        .timelinePagination {
            display: flex;
        }

        .timelineNavigation {
            margin-bottom: 32px;
            gap:           8px;
        }

        .timelinePeriod {
            min-height: 0px;
            margin:     60px 0;
        }

        .timelineCounter {
            margin-bottom: 10px;
        }

        .timelineContent {
            @include m.absolute(auto, auto, 0, 0);
            padding: 0;
        }

        .timelineSwiper {
            position:   relative;
            margin:     0px;
            margin-top: 20px;
        }

        .timelineVerticalLine {
            top: calc(100% + 60px);
        }

        .timelineSwiper {
            margin-left: -20px;
            margin-right: -20px;
        }
    }

    .event {
        .eventYear {
            font-size: 16px;
        }
        .eventName {
            height:      61px;
            font-size:   14px;
            line-height: 145%;
        }
    }
}
